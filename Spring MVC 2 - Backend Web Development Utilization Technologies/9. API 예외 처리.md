# 💡 API 예외 처리 - 스프링 부트 기본 오류 처리
API 예외 처리도 스프링 부트가 제공하는 기본 오류 방식을 사용할 수 있다.

:sqia BasicErrorController
```java
@Controller
@RequestMapping("${server.error.path:${error.path:/error}}")
public class BasicErrorController extends AbstractErrorController {
    @RequestMapping(produces = MediaType.TEXT_HTML_VALUE)
    public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) {}

    @RequestMapping
    public ResponseEntity<Map<String, Object>> error(HttpServletRequest request) {}
}
```
/error 동일한 경로를 처리하는 errorHtml() , error() 두 메서드를 확인할 수 있다.
* errorHtml() : produces = MediaType.TEXT_HTML_VALUE : 클라이언트 요청의 Accept 헤더 값이 text/html 인 경우에는 errorHtml() 을 호출해서 view를 제공한다.
* error() : 그 외 경우에 호출되고 ResponseEntity 로 HTTP Body에 JSON 데이터를 반환한다.

* 스프링 부트가 제공하는 BasicErrorController 는 HTML 페이지를 제공하는 경우에는 매우 편리하다. 4xx, 5xx 등등 모두 잘 처리해준다. 
* 그런데 API 오류 처리는 다른 차원의 이야기이다. 
* API 마다, 각각의 컨트롤러나 예외마다 서로 다른 응답 결과를 출력해야 할 수도 있다.
* 예를 들어서 회원과 관련된 API에서 예외가 발생할 때 응답과, 상품과 관련된 API에서 발생하는 예외에 따라 그 결과가 달라질 수 있다. 
* 따라서 BasicErrorController를 이용한 예외처리는 HTML 화면을 처리할 때 사용하고, API 오류 처리는 뒤에서 설명할 @ExceptionHandler 를 사용하자.

# 💡 API 예외 처리 - HandlerExceptionResolver 시작
스프링MVC는 컨트롤러(핸들러) 밖으로 예외가 던져진 경우 예외를 해결하고, 동작을 새로 정의할 수 있도록 HandlerExceptionResolver를 제공한다.

✅ ExceptionResolver 적용 전

![image](https://user-images.githubusercontent.com/39439576/230246516-c4d9d784-c632-434c-9767-d58b849e53ce.png)

✅ ExceptionResolver 적용 후

![image](https://user-images.githubusercontent.com/39439576/230246565-722a1501-1b0e-472e-876b-497f2e438cde.png)
