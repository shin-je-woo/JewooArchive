# ğŸ’¡ ChunkOrientedTasklet

- ChunkOrientedTaskletì€ ìŠ¤í”„ë§ ë°°ì¹˜ì—ì„œ ì œê³µí•˜ëŠ” Taskletì˜ êµ¬í˜„ì²´ë¡œì„œ Chunk ì§€í–¥ í”„ë¡œì„¸ì‹±ì„ ë‹´ë‹¹í•˜ëŠ” ë„ë©”ì¸ ê°ì²´
- ItemReader, ItemWriter, ItemProcessorë¥¼ ì‚¬ìš©í•´ Chunk ê¸°ë°˜ì˜ ë°ì´í„° ì…ì¶œë ¥ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤.
- TaskletStepì— ì˜í•´ ChunkOrientedTaskletì´ ë°˜ë³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ë§¤ë²ˆ ìƒˆë¡œìš´ íŠ¸ëœì­ì…˜ì´ ìƒì„±ë˜ì–´ ì²˜ë¦¬ê°€ ì´ë£¨ì–´ì§„ë‹¤.
- Exceptionì´ ë°œìƒí•  ê²½ìš°, í•´ë‹¹ ChunkëŠ” ë¡¤ë°± ë˜ë©° ì´ì „ì— ì»¤ë°‹í•œ ChunkëŠ” ì™„ë£Œëœ ìƒíƒœê°€ ìœ ì§€ëœë‹¤.
- ë‚´ë¶€ì ìœ¼ë¡œ ItemReaderë¥¼ í•¸ë“¤ë§ í•˜ëŠ” `ChunkProvider` ì™€ ItemProcessor, ItemWriterë¥¼ í•¸ë“¤ë§í•˜ëŠ” `ChunkProcessor` íƒ€ì…ì˜ êµ¬í˜„ì²´ë¥¼ ê°€ì§„ë‹¤.

![image](https://github.com/user-attachments/assets/c79532ae-2935-455c-a4f8-c7b79bfbb57b)

# ğŸ’¡ íë¦„ë„

![image](https://github.com/user-attachments/assets/289813d1-d7ef-485d-9428-772b1e91ff28)

â–¶ï¸ ChunkOrientedTaskletì˜ execute ë©”ì„œë“œ
```java
@Override
public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {

    Chunk<I> inputs = (Chunk<I>) chunkContext.getAttribute(INPUTS_KEY); // ChunckContext ìºì‹œì— ë°ì´í„°ê°€ ìˆë‹¤ë©´ ê°€ì ¸ì˜¨ë‹¤. (ì˜ˆì™¸ê°€ ë°œìƒí•˜ì—¬ ì¬ì‹œì‘ë  ê²½ìš° ì‚¬ìš©ëœë‹¤.)
    if (inputs == null) {
        inputs = chunkProvider.provide(contribution); // ItemReaderë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ Chunck<I>ì— ì €ì¥í•œë‹¤.
        if (buffering) {
            chunkContext.setAttribute(INPUTS_KEY, inputs); // Chunkë¥¼ ìºì‹±í•˜ê¸° ìœ„í•´ ChunkContext ë²„í¼ì— ì €ì¥
        }
    }

    chunkProcessor.process(contribution, inputs); // ItemProcessor, ItemWriterì—ì„œ Chunk<I> ê°¯ìˆ˜ë§Œí¼ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  ì €ì¥í•œë‹¤.
    chunkProvider.postProcess(contribution, inputs);

    // Allow a message coming back from the processor to say that we are not done yet
    if (inputs.isBusy()) {
        logger.debug("Inputs still busy");
        return RepeatStatus.CONTINUABLE;
    }

    chunkContext.removeAttribute(INPUTS_KEY); // Chunk ë‹¨ìœ„ ì…ì¶œë ¥ì´ ì™„ë£Œë˜ë©´ ë²„í¼ì— ì €ì¥í•œ Chunk ìºì‹œ ë°ì´í„° ì‚­ì œ
    chunkContext.setComplete();

    if (logger.isDebugEnabled()) {
        logger.debug("Inputs not busy, ended: " + inputs.isEnd());
    }
    return RepeatStatus.continueIf(!inputs.isEnd()); // ì½ì–´ì˜¬ ë°ì´í„°ê°€ ë‚¨ì•„ ìˆë‹¤ë©´ ë°˜ë³µí•œë‹¤.
}
```

# ğŸ’¡ API ì„¤ì •

![image](https://github.com/user-attachments/assets/175d5ae3-fb6f-4d56-b222-eaa2c8da1a84)
