# 💡 ItemReader

- Chunk 단위로 데이터를 받아 일괄 출력 작업을 위한 인터페이스
- 플랫(Flat) 파일 – csv, txt
  - XML, Json
  - Database
  - JMS, RabbitMQ 와 같은 Message Queuing 서비스
  - Mail Service
  - Custom Writer
• 아이템 하나가 아닌 아이템 리스트를 전달 받는다.
• ChunkOrientedTasklet 실행 시 필수로 설정해야 한다.

```java
@FunctionalInterface
public interface ItemReader<T> {

    @Nullable
    T read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException;
}
```

### T read()

- 입력 데이터를 읽고 다음 데이터로 이동한다.
- 아이템 하나를 리턴하며 더 이상 아이템이 없는 경우 null 리턴
- 아이템 하나는 파일의 한줄, DB 의 한 row 혹은 XML 파일에서 하나의 엘리먼트가 될 수 있다.
- 더 이상 처리해야 할 Item이 없어도 예외가 발생하지 않고 ItemProcessor와 같은 다음 단계로 넘어간다.

![image](https://github.com/user-attachments/assets/7b9c9d5e-00da-451b-98f0-b4612f519b5a)

- 다수의 구현체들이 ItemReader와 ItemStream 인터페이스를 동시에 구현하고 있다.
- 파일의 스트림을 열거나 종료, DB 커넥션을 열거나 종료, 입력 장치 초기화 등의 작업
- ExecutionContext 에 read 와 관련된 여러가지 상태 정보를 저장해서 재시작 시 다시 참조 하도록 지원한다.
- 일부를 제외하고 하위 클래스들은 기본적으로 스레드에 안전하지 않기 때문에 병렬 처리시 데이터 정합성을 위한 동기화 처리가 필요하다.
