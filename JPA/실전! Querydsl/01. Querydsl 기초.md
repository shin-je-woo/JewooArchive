# Previous
- Querydsl í•™ìŠµì˜ ê¸°ë³¸ ë°ì´í„° ëª¨ë¸ì€ JPAì—ì„œ í–ˆë˜ Entityë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.
- Memberì™€ Team 2ê°œì˜ ì—”í‹°í‹°ê°€ ìˆê³ , ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì´ë‹¤.
- ë‹¤ìŒì€ í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  ê¸°ë³¸ ë°ì´í„°ì…‹ì´ë‹¤.
```java
@SpringBootTest
@Transactional
public class QuerydslBasicTest {

    @Autowired
    EntityManager em;

    JPAQueryFactory queryFactory;

    @BeforeEach
    void before() {
        queryFactory = new JPAQueryFactory(em);
        Team teamA = new Team("teamA");
        Team teamB = new Team("teamB");
        em.persist(teamA);
        em.persist(teamB);

        Member member1 = new Member("member1", 10, teamA);
        Member member2 = new Member("member2", 20, teamA);

        Member member3 = new Member("member3", 30, teamB);
        Member member4 = new Member("member4", 40, teamB);

        em.persist(member1);
        em.persist(member2);
        em.persist(member3);
        em.persist(member4);
    }
}
```

# ğŸ’¡ JPQL vs Querydsl
```java
@Test
void startJPQL() {
    // member1ì„ ì°¾ì•„ë¼.
    String qlString = "select m from Member m where m.username = :username";
    Member findMember = em.createQuery(qlString, Member.class)
            .setParameter("username", "member1")
            .getSingleResult();

    assertThat(findMember.getUsername()).isEqualTo("member1");
}

@Test
void startQuerydsl() {
    //member1ì„ ì°¾ì•„ë¼.
     JPAQueryFactory queryFactory = new JPAQueryFactory(em);
     QMember m = new QMember("m");
     
     Member findMember = queryFactory
                .select(m)
                .from(m)
                .where(m.username.eq("member1")) // íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì²˜ë¦¬
                .fetchOne();

     assertThat(findMember.getUsername()).isEqualTo("member1");
}
```
- `EntityManager` ë¡œ `JPAQueryFactory` ìƒì„±
- Querydslì€ JPQL ë¹Œë”
- JPQL: ë¬¸ì(ì‹¤í–‰ ì‹œì  ì˜¤ë¥˜), Querydsl: ì½”ë“œ(ì»´íŒŒì¼ ì‹œì  ì˜¤ë¥˜)
- JPQL: íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì§ì ‘, Querydsl: íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ìë™ ì²˜ë¦¬

## JPAQueryFactoryë¥¼ í•„ë“œë¡œ
```java
@SpringBootTest
@Transactional
public class QuerydslBasicTest {

    @Autowired
    EntityManager em;

    JPAQueryFactory queryFactory;
    
    @BeforeEach
    void before() {
        queryFactory = new JPAQueryFactory(em);
        //...
    }
    
    @Test
    public void startQuerydsl2() {
        //member1ì„ ì°¾ì•„ë¼.
        QMember m = new QMember("m");
        Member findMember = queryFactory
                .select(m)
                .from(m)
                .where(m.username.eq("member1"))
                .fetchOne();
        assertThat(findMember.getUsername()).isEqualTo("member1");
    }
```
* ì´ë ‡ê²Œ í´ë˜ìŠ¤ì—ì„œ ì§ì ‘ ì£¼ì…ì„ í•´ì¤˜ë„ ë˜ê³ , ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡í•´ì„œ ì£¼ì…ë°›ëŠ” ë°©ë²•ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
#### ë™ì‹œì„± ì´ìŠˆ?
- `JPAQueryFactory` ë¥¼ í•„ë“œë¡œ ì œê³µí•˜ë©´ ë™ì‹œì„± ë¬¸ì œëŠ” ì–´ë–»ê²Œ ë ê¹Œ? 
- ë™ì‹œì„± ë¬¸ì œëŠ” JPAQueryFactoryë¥¼ ìƒì„±í•  ë•Œ ì œê³µí•˜ëŠ” EntityManager(em)ì— ë‹¬ë ¤ìˆë‹¤. 
- ìŠ¤í”„ë§ì€ ì—¬ëŸ¬ ì“°ë ˆë“œì—ì„œ ë™ì‹œì— ê°™ì€ EntityManagerì— ì ‘ê·¼í•´ë„ íŠ¸ëœì­ì…˜ë§ˆë‹¤ ë³„ë„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•œë‹¤.
- ë”°ë¼ì„œ ë™ì‹œì„± ë¬¸ì œëŠ” ê±±ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

## ê¸°ë³¸ Q-Type í™œìš©
### Qí´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” 2ê°€ì§€ ë°©ë²•
- ê¸°ë³¸ì˜ˆì œì—ì„œ  Qí´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ `new QMember("m")` ì™€ ê°™ì´ new ë¥¼ í†µí•´ ë³„ì¹­ì„ ì§ì ‘ ì§€ì •í•´ì£¼ì—ˆì§€ë§Œ, Querydsl ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ë” ê°„í¸í•˜ë‹¤.
```java
QMember qMember = new QMember("m"); //ë³„ì¹­ ì§ì ‘ ì§€ì •
QMember qMember = QMember.member; //ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©
```
### ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ static importì™€ í•¨ê»˜ ì‚¬ìš©
- ì—¬ê¸°ì„œ Qí´ë˜ìŠ¤ë„ static-importí•´ì£¼ë©´ ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê¹”ë”í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```java
import static study.querydsl.entity.QMember.*;

@Test
public void startQuerydsl3() {
    //member1ì„ ì°¾ì•„ë¼.
    Member findMember = queryFactory
            .select(member)
            .from(member)
            .where(member.username.eq("member1"))
            .fetchOne();
    assertThat(findMember.getUsername()).isEqualTo("member1");
}
```
