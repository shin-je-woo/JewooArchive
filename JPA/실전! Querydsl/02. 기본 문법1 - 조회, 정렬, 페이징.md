# ğŸ’¡ ê²€ìƒ‰ ì¡°ê±´
```java
@Test
void search() {
    Member findMember = queryFactory
            .selectFrom(member)
            .where(
                    member.username.eq("member1")
                            .and(member.age.eq(10))
            )
            .fetchOne();

    assertThat(findMember.getUsername()).isEqualTo("member1");
    assertThat(findMember.getAge()).isEqualTo(10);
}
```
- ê²€ìƒ‰ ì¡°ê±´ì€ `.and()` , `.or()` ë¥¼ ë©”ì„œë“œ ì²´ì¸ìœ¼ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.
- `select` , `from` ì„ `selectFrom` ìœ¼ë¡œ í•©ì¹  ìˆ˜ ìˆë‹¤.
- eq, neq, goe, loe, like, contains ë“± ìˆ˜ë§ì€ ê²€ìƒ‰ ì¡°ê±´ ë©”ì„œë“œê°€ ì¡´ì¬í•œë‹¤.
### WHEREì ˆ ANDì¡°ê±´ì„ íŒŒë¼ë¯¸í„°ì²˜ëŸ¼ ì²˜ë¦¬
```java
.where(
        member.username.eq("member1"),
        (member.age.eq(10))
)
```
* `where()` ì— íŒŒë¼ë¯¸í„°ë¡œ ê²€ìƒ‰ì¡°ê±´ì„ ì¶”ê°€í•˜ë©´ AND ì¡°ê±´ì´ ì¶”ê°€ ëœë‹¤.
* ì´ ê²½ìš° nullê°’ì€ ë¬´ì‹œ ë˜ê¸° ë•Œë¬¸ì— ë©”ì„œë“œ ì¶”ì¶œì„ í†µí•´ ë™ì  ì¿¼ë¦¬ë¥¼ ê¹”ë”í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

# ğŸ’¡ ê²°ê³¼ ì¡°íšŒ
- `fetch()` : ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ, ë°ì´í„° ì—†ìœ¼ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
- `fetchOne()` : ë‹¨ ê±´ ì¡°íšŒ
  - ê²°ê³¼ê°€ ì—†ìœ¼ë©´ : null
  - ê²°ê³¼ê°€ ë‘˜ ì´ìƒì´ë©´ : com.querydsl.core.NonUniqueResultException
- `fetchFirst()` : limit(1).fetchOne()
- `fetchResults()` : í˜ì´ì§• ì •ë³´ í¬í•¨, total count ì¿¼ë¦¬ ì¶”ê°€ ì‹¤í–‰ (@Deprecated) â†’ `fetch()` ì‚¬ìš© ê¶Œì¥
- `fetchCount()` : count ì¿¼ë¦¬ë¡œ ë³€ê²½í•´ì„œ count ìˆ˜ ì¡°íšŒ (@Deprecated) â†’ `select(member.count())~~.fetchOne()` ì‚¬ìš© ê¶Œì¥

# ğŸ’¡ ì •ë ¬
```java
/**
 * íšŒì› ì •ë ¬ ìˆœì„œ
 * 1. íšŒì› ë‚˜ì´ ë‚´ë¦¼ì°¨ìˆœ(desc)
 * 2. íšŒì› ì´ë¦„ ì˜¬ë¦¼ì°¨ìˆœ(asc)
 * ë‹¨, 2ì—ì„œ íšŒì› ì´ë¦„ì´ ì—†ìœ¼ë©´ ë§ˆì§€ë§‰ì— ì¶œë ¥(nulls last)
 */
@Test
void sort() {
    em.persist(new Member(null, 100));
    em.persist(new Member("member5", 100));
    em.persist(new Member("member6", 100));

    List<Member> result = queryFactory
            .selectFrom(member)
            .where(member.age.eq(100))
            .orderBy(member.age.desc(), member.username.asc().nullsLast())
            .fetch();

    Member member5 = result.get(0);
    Member member6 = result.get(1);
    Member memberNull = result.get(2);
    assertThat(member5.getUsername()).isEqualTo("member5");
    assertThat(member6.getUsername()).isEqualTo("member6");
    assertThat(memberNull.getUsername()).isEqualTo(null);
}
```
- `desc()` , `asc()` : ì¼ë°˜ ì •ë ¬
- `nullsLast()` , `nullsFirst()` : null ë°ì´í„° ìˆœì„œ ë¶€ì—¬

# ğŸ’¡ í˜ì´ì§•
### ì¡°íšŒ ê±´ìˆ˜ ì œí•œ
```java
@Test
void paging1() {
    List<Member> result = queryFactory
            .selectFrom(member)
            .orderBy(member.username.desc())
            .offset(1)
            .limit(2)
            .fetch();

    assertThat(result.size()).isEqualTo(2);
}
```
- `offset(index)` : indexë¶€í„° ì¡°íšŒí•˜ë¼ëŠ” ëœ»(ì´ì „ ë°ì´í„°ëŠ” ì¡°íšŒX)
- `limit()` : ì¡°íšŒí•  ë°ì´í„° ê°¯ìˆ˜

### ì „ì²´ ì¡°íšŒìˆ˜ê°€ í•„ìš”í•œ ê²½ìš°
```java
@Test
void paging2() {
    List<Member> result = queryFactory
            .selectFrom(member)
            .orderBy(member.username.desc())
            .offset(1)
            .limit(2)
            .fetch();

    Long total = queryFactory
            .select(member.count())
            .from(member)
            .fetchOne();

    assertThat(total).isEqualTo(4);
    assertThat(result.size()).isEqualTo(2);
}
```
- `fetchResults()` ì™€ `fetchCount()` ê°€ @Deprecated ë˜ì—ˆê¸° ë•Œë¬¸ì— ì „ì²´ ì¡°íšŒìˆ˜ë¥¼ ìœ„í•œ ë³„ë„ì˜ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤.

# ğŸ’¡ ì§‘í•©
### ì§‘í•© í•¨ìˆ˜ ì‚¬ìš©
```java
@Test
public void aggregation() {
    List<Tuple> result = queryFactory
            .select(
                    member.count(),
                    member.age.sum(),
                    member.age.avg(),
                    member.age.max(),
                    member.age.min()
            )
            .from(member)
            .fetch();

    Tuple tuple = result.get(0);
    assertThat(tuple.get(member.count())).isEqualTo(4);
    assertThat(tuple.get(member.age.sum())).isEqualTo(100);
    assertThat(tuple.get(member.age.avg())).isEqualTo(25);
    assertThat(tuple.get(member.age.max())).isEqualTo(40);
    assertThat(tuple.get(member.age.min())).isEqualTo(10);
}
```
- `Tuple` ì€ í”„ë¡œì ì…˜ ê´€ë ¨ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ë°˜í™˜ì—ì„œ ì„¤ëª…í•  ì˜ˆì •.
### GroupBy ì‚¬ìš©
```java
/**
 * íŒ€ì˜ ì´ë¦„ê³¼ ê° íŒ€ì˜ í‰ê·  ì—°ë ¹ì„ êµ¬í•´ë¼.
 */
@Test
void group() throws Exception {
    List<Tuple> result = queryFactory
            .select(team.name, member.age.avg())
            .from(member)
            .join(member.team, team)
            .groupBy(team.name)
            .fetch();

    Tuple teamA = result.get(0);
    Tuple teamB = result.get(1);

    assertThat(teamA.get(team.name)).isEqualTo("teamA");
    assertThat(teamA.get(member.age.avg())).isEqualTo(15);

    assertThat(teamB.get(team.name)).isEqualTo("teamB");
    assertThat(teamB.get(member.age.avg())).isEqualTo(35);
}
```
- `having` ì‚¬ìš© ê°€ëŠ¥ : `groupBy` ê·¸ë£¹í™”ëœ ê²°ê³¼ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤.
```java
//â€¦
.groupBy(item.price)
.having(item.price.gt(1000))
 //â€¦
```
