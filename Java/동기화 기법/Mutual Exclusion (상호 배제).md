# Previous

- ë®¤í…ìŠ¤(Mutual Exclusion) ë˜ëŠ” ìƒí˜¸ ë°°ì œëŠ” ê³µìœ  ìì›ì— ëŒ€í•œ ê²½ìŸ ìƒíƒœë¥¼ ë°©ì§€í•˜ê³  ë™ì‹œì„± ì œì–´ë¥¼ ìœ„í•œ ë½ ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤.
- ìŠ¤ë ˆë“œê°€ ì„ê³„ì˜ì—­ì—ì„œ Mutex ê°ì²´ì˜ í”Œë˜ê·¸ë¥¼ ì†Œìœ í•˜ê³  ìˆìœ¼ë©´(ë½ íšë“) ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìœ¼ë©° í•´ë‹¹ ì„ê³„ì˜ì—­ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ê³  ì‹œë„í•˜ëŠ” ëª¨ë“  ìŠ¤ë ˆë“œëŠ” ì°¨ë‹¨ë˜ê³  Mutex ê°ì²´ í”Œë˜ê·¸ê°€ í•´ì œëœ ê²½ìš°(ë½ í•´ì œ)ì—ë§Œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤.
- ì´ ë©”ì»¤ë‹ˆì¦˜ì€ Mutex ë½ì„ ê°€ì§„ ì˜¤ì§ í•œê°œì˜ ìŠ¤ë ˆë“œë§Œì´ ì„ê³„ì˜ì—­ì— ì§„ì…í•  ìˆ˜ ìˆìœ¼ë©° ë½ì„ íšë“í•œ ìŠ¤ë ˆë“œë§Œì´ ë½ì„ í•´ì œ í•  ìˆ˜ ìˆë‹¤.

# ğŸ’¡ Mutex

![image](https://github.com/shin-je-woo/TIL/assets/39439576/558997f4-cf3f-457c-9edd-98006ad1d417)

```java
public class Mutex {

    private boolean lock = false;

    public synchronized void acquired() {
        while (lock) {
            try {
                wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        this.lock = true;
    }

    public synchronized void release() {
        this.lock = false;
        notify();
    }
}
```

```java
public class SharedData {

    private int sharedValue = 0;
    private final Mutex mutex;

    public SharedData(Mutex mutex) {
        this.mutex = mutex;
    }

    public void sum() {
        try {
            mutex.acquired(); // Lock ì„ íšë“
            for (int i = 0; i < 10_000_0000; i++) {
                sharedValue++; // critical section. ê³µìœ ë°ì´í„° ì½ê¸°/ì“°ê¸° ì‘ì—…
            }
        } finally {
            mutex.release(); // Lock í•´ì œ
        }
    }
    public int getSum() {
        return sharedValue;
    }
}
```

# ğŸ’¡ ë®¤í…ìŠ¤ ë¬¸ì œì 

- **ë°ë“œë½(Deadlock)**
  - ë°ë“œë½ì€ ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ì„œë¡œê°€ ê°€ì§„ ë½ì„ ê¸°ë‹¤ë¦¬ë©´ì„œ ìƒí˜¸ì ìœ¼ë¡œ ë¸”ë¡œí‚¹ë˜ì–´ ì•„ë¬´ ì‘ì—…ë„ ìˆ˜í–‰í•  ìˆ˜ ì—†ëŠ” ìƒíƒœë¥¼ ì˜ë¯¸í•˜ë©° ì˜ëª»ëœ ë®¤í…ìŠ¤ ì‚¬ìš©ìœ¼ë¡œ ì¸í•´ ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- **ìš°ì„  ìˆœìœ„ ì—­ì „(Priority Inversion)**
  - ìš°ì„  ìˆœìœ„ ì—­ì „ì€ ë†’ì€ ìš°ì„  ìˆœìœ„ë¥¼ ê°€ì§„ ìŠ¤ë ˆë“œê°€ ë‚®ì€ ìš°ì„  ìˆœìœ„ë¥¼ ê°€ì§„ ìŠ¤ë ˆë“œê°€ ë³´ìœ í•œ ë½ì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë¸”ë¡ë˜ëŠ” í˜„ìƒìœ¼ë¡œ ë†’ì€ ìš°ì„  ìˆœìœ„ë¥¼ ê°€ì§„ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì§€ì—°ë  ìˆ˜ ìˆë‹¤. ìš°ì„  ìˆœìœ„ ìƒì†ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤
- **ì˜¤ë²„í—¤ë“œ**
  - ë®¤í…ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ê²½í•©í•˜ë©´ì„œ ë½ì„ ì–»ê¸° ìœ„í•´ ìŠ¤ë ˆë“œ ìŠ¤ì¼€ì¤„ë§ì´ ë°œìƒí•œë‹¤. ì´ë¡œ ì¸í•´ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ê³  ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.
- **ì„±ëŠ¥ ì €í•˜**
  - ë®¤í…ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ë½ì„ ì–»ê¸° ìœ„í•´ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°í•˜ê²Œ ë˜ê³ , ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ ì‹œê°„ì´ ë¸”ë¡ë˜ë©´ì„œ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- **ì˜ëª»ëœ ì‚¬ìš©**
  - ë®¤í…ìŠ¤ë¥¼ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜ ì˜ëª»ëœ ìˆœì„œë¡œ ë½ì„ í•´ì œí•˜ëŠ” ê²½ìš° ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
