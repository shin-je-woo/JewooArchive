# π’΅ CountDownLatch λ€?

- ν•λ‚ μ΄μƒμ μ¤λ λ“κ°€ λ‹¤λ¥Έ μ¤λ λ“μ—μ„ μν–‰λλ” μΌλ ¨μ μ‘μ—…μ΄ μ™„λ£λ  λ•κΉμ§€ κΈ°λ‹¤λ¦΄ μ μκ² ν•΄μ£Όλ” λ™κΈ°ν™” λ³΄μ΅° λ„κµ¬μ΄λ‹¤.
- CountDownLatchλ” μ£Όμ–΄μ§„ μΉ΄μ΄νΈλ΅ μ΄κΈ°ν™”λκ³  await λ©”μ„λ“λ” ν„μ¬ μΉ΄μ΄νΈκ°€ countDown λ©”μ„λ“μ νΈμ¶λ΅ μΈν•΄ 0μ΄ λ  λ•κΉμ§€ λΈ”λ΅λλ©° κ·Έ μ΄ν›„μ— λ¨λ“  λ€κΈ° μ¤‘μΈ μ¤λ λ“κ°€ ν•΄μ λκ³  await() μ΄ν›„ μ²λ¦¬κ°€ μ΄λ£¨μ–΄μ§„λ‹¤.
- CountDownLatch μ€ μΌνμ„±μΌλ΅ μ²λ¦¬λλ‹¤. μ¦‰ μΉ΄μ΄νΈλ¥Ό μ¬ μ„¤μ •ν•  μ μ—†λ‹¤. (μΉ΄μ΄νΈλ¥Ό μ¬μ„¤μ •ν•λ” λ²„μ „μ΄ ν•„μ”ν• κ²½μ° CyclicBarrier λ¥Ό μ‚¬μ©ν•λ‹¤.)
- ν• μ¤λ λ“κ°€ μ—¬λ¬ λ² countDown() μ„ νΈμ¶ν•΄λ„ λλ‹¤.
- λ‹¤μκ³Ό κ°™μ€ μƒν™©μ— μ μ©ν•κ² μ‚¬μ©λλ‹¤.
  - μ—¬λ¬ κ°μ μ¤λ λ“κ°€ λ³‘λ ¬λ΅ μ‹¤ν–‰λ  λ• νΉμ • μ‘μ—…μ΄ μ‹μ‘λκ±°λ‚ μ™„λ£λ  λ•κΉμ§€ λ‹¤λ¥Έ μ¤λ λ“λ“¤μ΄ κΈ°λ‹¤λ¦¬λ„λ΅ ν•λ” κ²½μ°
  - μ—¬λ¬ μ¤λ λ“κ°€ μ΄κΈ°ν™” μ‘μ—…μ„ λ§μΉ  λ•κΉμ§€ κΈ°λ‹¤λ Έλ‹¤κ°€ λ¨λ“  μ¤λ λ“κ°€ μ™„λ£λλ©΄ λ§λ¬΄λ¦¬ μ‘μ—…μ„ μν–‰ν•λ” κ²½μ°

![image](https://github.com/shin-je-woo/TIL/assets/39439576/1aa04f09-79a3-4cac-b0f7-32e4f473033a)

# π’΅ CountDownLatch API

### CountDownLatch(int count)

- μ£Όμ–΄μ§„ μΉ΄μ΄νΈλ΅ μ΄κΈ°ν™”λ CountDownLatchλ¥Ό μƒμ„±ν•λ‹¤.

### void await() throws InterruptedException

- ν„μ¬ μΉ΄μ΄νΈκ°€ 0 μ΄λΌλ©΄ μ΄ λ©”μ„λ“λ” μ¦‰μ‹ λ°ν™λλ©° μΉ΄μ΄νΈκ°€ 0 λ³΄λ‹¤ ν¬λ©΄ λ‘ κ°€μ§€ μ‚¬ν•­ μ¤‘ ν•λ‚κ°€ λ°μƒν•  λ•κΉμ§€ λ€κΈ° μƒνƒμ— μκ² λλ‹¤.
  - countDown λ©”μ„λ“μ νΈμ¶λ΅ μΈν•΄ μΉ΄μ΄νΈκ°€ 0 μ΄ λλ” κ²½μ°
  - λ‹¤λ¥Έ μ¤λ λ“κ°€ ν„μ¬ μ¤λ λ“λ¥Ό μΈν„°λ½νΈ μ‹ν‚¤λ” κ²½μ°
- λ©”μ„λ“ μ§„μ… μ‹ μΈν„°λ½νΈ μƒνƒκ°€ μ„¤μ •λκ±°λ‚ λλ” λ€κΈ° μ¤‘μΈ λ™μ• μΈν„°λ½νΈ λλ©΄ InterruptedExceptionμ΄ λ°μƒν•λ©° ν„μ¬ μ¤λ λ“μ μΈν„°λ½νΈ μƒνƒλ” μ΄κΈ°ν™”λλ‹¤.

### boolean await(long timeout, TimeUnit unit) throws InterruptedException

- ν„μ¬ μΉ΄μ΄νΈκ°€ 0 μ΄λΌλ©΄ μ΄ λ©”μ„λ“λ” μ¦‰μ‹ λ°ν™λλ©° μΉ΄μ΄νΈκ°€ 0 λ³΄λ‹¤ ν¬λ©΄ μ„Έ κ°€μ§€ μ‚¬ν•­ μ¤‘ ν•λ‚κ°€ λ°μƒν•  λ•κΉμ§€ λ€κΈ° μƒνƒμ— μκ² λλ‹¤.
  - countDown λ©”μ„λ“μ νΈμ¶λ΅ μΈν•΄ μΉ΄μ΄νΈκ°€ 0 μ΄ λλ” κ²½μ°
  - λ‹¤λ¥Έ μ¤λ λ“κ°€ ν„μ¬ μ¤λ λ“λ¥Ό μΈν„°λ½νΈ μ‹ν‚¤λ” κ²½μ°
  - μ§€μ •λ λ€κΈ° μ‹κ°„μ΄ κ²½κ³Όν•λ” κ²½μ°
- λ©”μ„λ“ μ§„μ… μ‹ μΈν„°λ½νΈ μƒνƒκ°€ μ„¤μ •λκ±°λ‚ λλ” λ€κΈ° μ¤‘μΈ λ™μ• μΈν„°λ½νΈ λλ©΄ InterruptedExceptionμ΄ λ°μƒν•λ©° ν„μ¬ μ¤λ λ“μ μΈν„°λ½νΈ μƒνƒλ” μ΄κΈ°ν™”λλ‹¤.
- μ§€μ •λ λ€κΈ° μ‹κ°„μ΄ κ²½κ³Όν•λ©΄ false κ°’μ„ λ°ν™ν•λ©° μ‹κ°„μ΄ 0 μ΄ν•μΈ κ²½μ° λ©”μ„λ“λ” μ „ν€ λ€κΈ°ν•μ§€ μ•λ”λ‹¤.

### void countDown()

- μΉ΄μ΄νΈλ¥Ό κ°μ†μ‹μΌ μΉ΄μ΄νΈκ°€ 0 μ΄ λλ©΄ λ¨λ“  λ€κΈ° μ¤‘μΈ μ¤λ λ“λ¥Ό ν•΄μ ν•λ‹¤.

### long getCount()

- ν„μ¬ μΉ΄μ΄νΈλ¥Ό λ°ν™ν•λ©° μ΄ λ©”μ„λ“λ” μ£Όλ΅ λ””λ²„κΉ… λ° ν…μ¤νΈ λ©μ μΌλ΅ μ‚¬μ©λλ‹¤.
