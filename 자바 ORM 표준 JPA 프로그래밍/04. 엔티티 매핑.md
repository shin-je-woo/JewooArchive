# ğŸ’¡ ê°ì²´ì™€ í…Œì´ë¸” ë§¤í•‘
### @Entity
* @Entityê°€ ë¶™ì€ í´ë˜ìŠ¤ëŠ” JPAê°€ ê´€ë¦¬, ì—”í‹°í‹°ë¼ í•œë‹¤.
* JPAë¥¼ ì‚¬ìš©í•´ì„œ í…Œì´ë¸”ê³¼ ë§¤í•‘í•  í´ë˜ìŠ¤ëŠ” @Entity í•„ìˆ˜
* ì£¼ì˜ì‚¬í•­
  * ê¸°ë³¸ ìƒì„±ì í•„ìˆ˜(íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” public or protected)
  * final í´ë˜ìŠ¤, enum, interface, inner í´ë˜ìŠ¤ ì‚¬ìš© x
  * ì €ì¥í•  í•„ë“œì— final ì‚¬ìš© X

### @Table
* @Tableì€ ì—”í‹°í‹°ì™€ ë§¤í•‘í•  í…Œì´ë¸” ì§€ì •
* ì†ì„± ì •ë¦¬
  * name : ë§¤í•‘í•  í…Œì´ë¸” ì´ë¦„(ê¸°ë³¸ê°’: ì—”í‹°í‹° ì´ë¦„)
  * catalog: ë°ì´í„°ë² ì´ìŠ¤ catalog ë§¤í•‘
  * schema: ë°ì´í„°ë² ì´ìŠ¤ schema ë§¤í•‘
  * uniqueConstraint(DDL): DDL ìƒì„± ì‹œ ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´ ìƒì„±
    * @Table(uniqueConstraints = {@UniqueConstraint( name = "NAME_AGE_UNIQUE", columnNames = {"NAME", "AGE"} )}) 

# ğŸ’¡ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±
* DDLì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œì ì— ìë™ ìƒì„±
* í…Œì´ë¸” ì¤‘ì‹¬ â†’ ê°ì²´ ì¤‘ì‹¬
* ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸ì„ í™œìš©í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ë§ëŠ” ì ì ˆí•œ DDL ìƒì„±
* ì´ë ‡ê²Œ ìƒì„±ëœ DDLì€ ê°œë°œ ì¥ë¹„ì—ì„œë§Œ ì‚¬ìš©
* ìƒì„±ëœ DDLì€ ìš´ì˜ì„œë²„ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜, ì ì ˆíˆ ë‹¤ë“¬ì€ í›„ ì‚¬ìš©

![image](https://user-images.githubusercontent.com/39439576/230812844-e1252627-e7d5-497f-9d4c-36a78c8590fc.png)

# ğŸ’¡ í•„ë“œì™€ ì»¬ëŸ¼ ë§¤í•‘
```java
@Entity
public class Member {
    
    @Id @GeneratedValue
    @Column(name = "MEMBER_ID")
    private Long id;

    private String username;

    @Enumerated(EnumType.STRING)
    private RoleType roleType;

    @Temporal(TemporalType.TIMESTAMP)
    private Date cereatedDate;

    private LocalDate lastModifiedDate;

    @Lob
    private String description;

    @Transient
    private int tmp_number;
}
```
### âœ… @Column
![image](https://user-images.githubusercontent.com/39439576/230808385-40535f9d-321e-4c5f-95a8-e09da8dcc63d.png)

### âœ… @Enumerated
* ìë°” Enum íƒ€ì…ì„ ë§¤í•‘í•  ë•Œ ì‚¬ìš© 
* EnumType.ORDINAL: ENUM ìˆœì„œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
* EnumType.STRING: ENUM ì´ë¦„ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
* ORDINAL íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ë§ì!  
  â†’ enumíƒ€ì…ì´ ì¶”ê°€,ë³€ê²½,ì‚­ì œ ë˜ì–´ ìˆœì„œê°€ ë‹¬ë¼ì§ˆ ê²½ìš° ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ìƒê¸´ë‹¤.
  
### âœ… @Temporal
* ë‚ ì§œ íƒ€ì…(Date, Calendar)ì„ ë§¤í•‘í•  ë•Œ ì‚¬ìš©
* ìë°”8 LocalDate, LocalDateTimeì„ ì‚¬ìš©í•  ë•ŒëŠ” ìƒëµ ê°€ëŠ¥(ìµœì‹  í•˜ì´ë²„ë„¤ì´íŠ¸ ì§€ì›) 

### âœ… @Lob
* ë°ì´í„°ë² ì´ìŠ¤ BLOB, CLOB íƒ€ì…ê³¼ ë§¤í•‘
* @Lobì—ëŠ” ì§€ì •í•  ìˆ˜ ìˆëŠ” ì†ì„±ì´ ì—†ë‹¤.
* ë§¤í•‘í•˜ëŠ” í•„ë“œ íƒ€ì…ì´ ë¬¸ìë©´ CLOB ë§¤í•‘, ë‚˜ë¨¸ì§€ëŠ” BLOB ë§¤í•‘
* CLOB: String, char[], java.sql.CLOB
* BLOB: byte[], java.sql. BLOB

### âœ… @Transient
* í•„ë“œ ë§¤í•‘ì´ ì•ˆë˜ê²Œ í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
* ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥X, ì¡°íšŒX
* ì£¼ë¡œ ë©”ëª¨ë¦¬ìƒì—ì„œë§Œ ì„ì‹œë¡œ ì–´ë–¤ ê°’ì„ ë³´ê´€í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

# ğŸ’¡ ê¸°ë³¸ í‚¤ ë§¤í•‘
```java
@Id @GeneratedValue(strategy = GenerationType.AUTO)
private Long id;
```
* ì§ì ‘ í• ë‹¹: @Idë§Œ ì‚¬ìš©
* ìë™ ìƒì„±(@GeneratedValue)(strategy)
  * IDENTITY: ë°ì´í„°ë² ì´ìŠ¤ì— ìœ„ì„, MYSQL
  * SEQUENCE: ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ ì˜¤ë¸Œì íŠ¸ ì‚¬ìš©, ORACLE
    * @SequenceGenerator í•„ìš”
  * TABLE: í‚¤ ìƒì„±ìš© í…Œì´ë¸” ì‚¬ìš©, ëª¨ë“  DBì—ì„œ ì‚¬ìš©
    * @TableGenerator í•„ìš”
  * AUTO: ë°©ì–¸ì— ë”°ë¼ ìë™ ì§€ì •, ê¸°ë³¸ê°’

âœ… IDENTITY ì „ëµ
```java
@Entity
public class Member {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    ...
}
```
* ê¸°ë³¸ í‚¤ ìƒì„±ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ìœ„ì„
* ì£¼ë¡œ MySQL, PostgreSQL, SQL Server, DB2ì—ì„œ ì‚¬ìš© (ì˜ˆ: MySQLì˜ AUTO_ INCREMENT)
* JPAëŠ” ë³´í†µ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œì ì— INSERT SQL ì‹¤í–‰
* AUTO_ INCREMENTëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— INSERT SQLì„ ì‹¤í–‰í•œ ì´í›„ì— ID ê°’ì„ ì•Œ ìˆ˜ ìˆìŒ
* IDENTITY ì „ëµì€ em.persist() ì‹œì ì— ì¦‰ì‹œ INSERT SQL ì‹¤í–‰í•˜ê³  DBì—ì„œ ì‹ë³„ìë¥¼ ì¡°íšŒ(ì§€ì—°ì“°ê¸°ê°€ ì œí•œëœë‹¤.)

âœ… SEQUENCE ì „ëµ
```java
@Entity
@SequenceGenerator(
        name = "MEMBER_SEQ_GENERATOR",
        sequenceName = "MEMBER_SEQ", //ë§¤í•‘í•  ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ ì´ë¦„
        initialValue = 1, allocationSize = 1
)
public class Member {
    @Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "MEMBER_SEQ_GENERATOR")
    @Column(name = "MEMBER_ID")
    private Long id;
...
}
```
* ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ëŠ” ìœ ì¼í•œ ê°’ì„ ìˆœì„œëŒ€ë¡œ ìƒì„±í•˜ëŠ” íŠ¹ë³„í•œ ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¸Œì íŠ¸(ì˜ˆ: ì˜¤ë¼í´ ì‹œí€€ìŠ¤)
* ì˜¤ë¼í´, PostgreSQL, DB2, H2 ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©

![image](https://user-images.githubusercontent.com/39439576/230811547-f5a606de-acb8-453d-97f9-db2949e62a84.png)

âœ… TABLE ì „ëµ
* í‚¤ ìƒì„± ì „ìš© í…Œì´ë¸”ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤ë¥¼ í‰ë‚´ë‚´ëŠ” ì „ëµ
* ì¥ì : ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš© ê°€ëŠ¥
* ë‹¨ì : ì„±ëŠ¥
```sql
create table MY_SEQUENCES (
    sequence_name varchar(255) not null,
    next_val bigint,
    primary key ( sequence_name )
)
```
```java
@Entity
@TableGenerator(
        name = "MEMBER_SEQ_GENERATOR",
        table = "MY_SEQUENCES",
        pkColumnName = "MEMBER_SEQ", allocationSize = 1)
public class Member {

    @Id
    @GeneratedValue(strategy = GenerationType.TABLE, generator = "MEMBER_SEQ_GENERATOR")
    @Column(name = "MEMBER_ID")
    private Long id;
...
}
```
![image](https://user-images.githubusercontent.com/39439576/230812696-3e2713d2-1364-40f7-832c-b80381bf12de.png)
