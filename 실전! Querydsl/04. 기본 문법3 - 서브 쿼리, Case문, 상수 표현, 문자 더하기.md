# ğŸ’¡ ì„œë¸Œ ì¿¼ë¦¬
- `com.querydsl.jpa.JPAExpressions` ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¸Œì¿¼ë¦¬ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. 
- ë³´í†µ static importí•˜ì—¬ ì‚¬ìš©
## ì„œë¸Œì¿¼ë¦¬ eq ì‚¬ìš©
```java
/**
 * ë‚˜ì´ê°€ ê°€ì¥ ë§ì€ íšŒì› ì¡°íšŒ
 */
@Test
public void subQuery() {
    QMember memberSub = new QMember("memberSub");

    List<Member> result = queryFactory
            .selectFrom(member)
            .where(member.age.eq(
                    select(memberSub.age.max()) // com.querydsl.jpa.JPAExpressionsê°€ static importë˜ì–´ ì¼ë°˜ì ì¸ selectì²˜ëŸ¼ ë³´ì„
                            .from(memberSub)
            ))
            .fetch();

    assertThat(result).extracting("age")
            .containsExactly(40);
}
```

## ì„œë¸Œ ì¿¼ë¦¬ goe ì‚¬ìš©
```java
/**
 * ë‚˜ì´ê°€ í‰ê·  ì´ìƒì¸ íšŒì› ì¡°íšŒ
 */
@Test
void subQueryGoe() {
    QMember memberSub = new QMember("memberSub");

    List<Member> result = queryFactory
            .selectFrom(member)
            .where(member.age.goe(
                    select(memberSub.age.avg())
                            .from(memberSub)
            ))
            .fetch();

    assertThat(result).extracting("age")
            .containsExactly(30, 40);
}
```

## ì„œë¸Œì¿¼ë¦¬ ì—¬ëŸ¬ ê±´ ì²˜ë¦¬ in ì‚¬ìš©
```java
/**
 * ì„œë¸Œì¿¼ë¦¬ ì—¬ëŸ¬ ê±´ ì²˜ë¦¬, in ì‚¬ìš©
 */
@Test
void subQueryIn() {
    QMember memberSub = new QMember("memberSub");

    List<Member> result = queryFactory
            .selectFrom(member)
            .where(member.age.in(
                    select(memberSub.age)
                            .from(memberSub)
                            .where(memberSub.age.gt(10))
            ))
            .fetch();

    assertThat(result).extracting("age")
            .containsExactly(20, 30, 40);
}
```

## select ì ˆì— subquery
```java
@Test
void selectSubquery() {
    QMember memberSub = new QMember("memberSub");

    List<Tuple> result = queryFactory
            .select(member.username,
                    select(memberSub.age.avg())
                            .from(memberSub)
            )
            .from(member)
            .fetch();

    for (Tuple tuple : result) {
        System.out.println("tuple = " + tuple);
    }
}
```

## from ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ í•œê³„
- JPQL ì„œë¸Œì¿¼ë¦¬ì˜ í•œê³„ì ìœ¼ë¡œ from ì ˆì˜ ì„œë¸Œì¿¼ë¦¬(ì¸ë¼ì¸ ë·°)ëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë‹¹ì—°íˆ Querydslë„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ select ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ëŠ” ì§€ì›í•œë‹¤.
- Querydslë„ í•˜ì´ë²„ë„¤ì´íŠ¸ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ select ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì§€ì›í•œë‹¤.

### from ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ í•´ê²°ë°©ì•ˆ
1. ì„œë¸Œì¿¼ë¦¬ë¥¼ joinìœ¼ë¡œ ë³€ê²½í•œë‹¤. (ê°€ëŠ¥í•œ ìƒí™©ë„ ìˆê³ , ë¶ˆê°€ëŠ¥í•œ ìƒí™©ë„ ìˆë‹¤.)
2. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì¿¼ë¦¬ë¥¼ 2ë²ˆ ë¶„ë¦¬í•´ì„œ ì‹¤í–‰í•œë‹¤.
3. nativeSQLì„ ì‚¬ìš©í•œë‹¤.

# ğŸ’¡ Case ë¬¸
- select, ì¡°ê±´ì ˆ(where)ì—ì„œ ì‚¬ìš© ê°€ëŠ¥

## ë‹¨ìˆœí•œ ì¡°ê±´
```java
@Test
void basicCase() {
    List<String> result = queryFactory
            .select(member.age
                    .when(10).then("ì—´ì‚´")
                    .when(20).then("ìŠ¤ë¬´ì‚´")
                    .otherwise("ê¸°íƒ€")
            )
            .from(member)
            .fetch();
}
```

## ë³µì¡í•œ ì¡°ê±´
```java
@Test
void complexCase() {
    List<String> result = queryFactory
            .select(new CaseBuilder()
                    .when(member.age.between(0, 20)).then("0~20")
                    .when(member.age.between(21, 30)).then("21~30")
                    .otherwise("ê¸°íƒ€"))
            .from(member)
            .fetch();
}
```

# ğŸ’¡ ìƒìˆ˜, ë¬¸ì ë”í•˜ê¸°
## ìƒìˆ˜ í‘œí˜„
- ìƒìˆ˜ê°€ í•„ìš”í•˜ë©´ `Expressions.constant(xxx)` ì‚¬ìš©
```java
@Test
void constant() {
    List<Tuple> result = queryFactory
            .select(member.username, Expressions.constant("A"))
            .from(member)
            .fetch();
```

## ë¬¸ì ë”í•˜ê¸° concat
```java
@Test
void concat() {
    List<String> result = queryFactory
            .select(member.username.concat("_").concat(member.age.stringValue()))
            .from(member)
            .where(member.username.eq("member1"))
            .fetch();
}
```
- `member.age.stringValue()` ë¶€ë¶„ì´ ì¤‘ìš”í•˜ë‹¤.
- ë¬¸ìê°€ ì•„ë‹Œ ë‹¤ë¥¸ íƒ€ì…ë“¤ì€ `stringValue()` ë¡œ ë¬¸ìë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.
- ì´ ë°©ë²•ì€ ENUMì„ ì²˜ë¦¬í•  ë•Œë„ ìì£¼ ì‚¬ìš©í•œë‹¤.
