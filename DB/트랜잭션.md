# 💡 트랜잭션이란
![image](https://github.com/shin-je-woo/TIL/assets/39439576/f4d4bba8-a92b-48c2-b75c-e5845a585b12)

- 트랜잭션의 사전적 의미 : 거래
  - 하나의 거래는 **두 요소가 서로 주고 받았을때 성사**된다.
  - **하나의 거래 완성 (단위) = 구매 계좌에서 n만원 출금(작은 단위) + 판매자 계좌에서 n만원 출금(작은 단위)**
- **트랜잭션이란 복수 쿼리를 한 단위로 묶는 것을 말한다.**
  - DB에서 갱신(`INSERT`, `DELETE`, `UPDATE`)는 단일 쿼리만으로 구성된 것이 아니고 복수 쿼리를 연속적으로 수행하는 경우가 대부분이다.
  - 갱신 전의 데이터로 `SELECT`를 사용할 때 이를 포함해 복수 쿼리를 일관된 형태로 한덩어리로 다뤄야 한다.
- **더 이상 나눌 수 없는 단위 작업**
  - 작업을 쪼개서 작은 단위로 만들 수 없다는 것은 트랜잭션의 핵심 속성인 원자성을 의미한다.

## 트랜잭션의 상태
![image](https://github.com/shin-je-woo/TIL/assets/39439576/f2abb486-5311-4727-86e8-459e32815a62)

- 활동(Active) : 트랜잭션이 실행 중인 상태
- 실패(Failed) : 트랜잭션 실행에 오류가 발생하여 중단된 상태
- 철회(Aborted) : 트랜잭션이 비정상적으로 종료되어 롤백 연산을 수행한 상태
- 부분 완료(Partially Committed) : 트랜잭션의 마지막 연산까지 실행했지만, 커밋 연산이 실행되기 직전의 상태
- 완료(Commited) : 트랜잭션이 성공적으로 종료되어 커밋 연산을 실행한 후의 상태
