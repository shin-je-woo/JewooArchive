# 💡 도커란?
- 다양한 운영체제와 시스템 환경에 따라 서버 셋업을 위한 작업이 각각 다르고 복잡한 문제가 있다.
- 도커는 컨테이너 기반의 가상화 플랫폼으로써 컨테이너 상에 서버를 셋업해놓을 수 있다.
- 따라서 기반 환경이 다르더라도, 컨테이너만 실행하면 간편하게 동일한 환경을 셋업할 수 있다.

### 도커를 왜 사용할까?
- 애플리케이션 독립성을 가진다. 호스트 OS, 다른 컨테이너와도 독립된 공간을 보장받아 충돌이 발생하지 않는다.
- 컨테이너 내부에 작업 후 배포하려 한다면 도커 이미지로 만들어서 운영서버에 전달만 하면 된다.
- 마이크로 서비스 구조로 변화가 쉽다. 컨테이너 하나당 하나의 기능을 제공하는 모듈로 만드는 등 조정이 가능하다.
- 다시 말해, Docker를 사용하면 환경에 구애받지 않고 애플리케이션을 신속하게 배포, 확장할 수 있다.

# 💡 Virtual Machine vs Docker Container
![image](https://github.com/shin-je-woo/TIL/assets/39439576/102ae893-2905-449f-ae79-41cab0172b01)

## Machine(가상머신)
- 기존의 가상화 기술인 가상머신(Virtual Machine)은 하이퍼바이저(Hypervisor)를 이용해 여러개의 운영체제를 하나의 호스트에서 생성해 사용하는 방식이었다.
- 여러 개의 운영체제는 가상 머신이라는 단위로 구별되고 각 가상머신에는 우분투, CentOS 등의 운영체제(게스트OS)가 설치되어 사용된다.
- 각 게스트OS는 다른 게스트OS와 완전히 독립된 공간과 시스템 자원을 할당받는다.
- 그러나, 각종 시스템 자원을 가상화하고 독립된 공간을 생성하는 작업은 하이퍼바이저를 반드시 거치기 떄문에 일반 호스트에 비해 성능의 손실이 발생한다.
- 또한, 가상머신은 게스트OS를 사용하기 위한 라이브러리, 커널 등을 전부 포함하기 때문에 가상머신을 배포하기 위한 이미지로 만들었을 때 이미지의 크기가 커진다.

## Docker Container(도커 컨테이너)
- 도커 컨테이너는 가상화된 공간을 생성하기 위해 리눅스 기능인 chroot, 네임스페이스(namespace), cgroup을 사용함으로써 프로세스 단위의 격리 환경을 만들기 때문에 성능 손실이 거의 없다.
- 컨테이너에 필요한 커널을 공유해서 사용하고, 컨테이너 안에는 애플리케이션을 구동하는 데 필요한 라이브러리 및 실행파일만 존재하기 때문에 컨테이너를 이미지로 만들었을 때 이미지의 용량 또한 가상 머신에 비해 확연히 줄어든다.
- 따라서 컨테이너를 이미지로 만들어 배포하는 시간이 빠르며, 가상화된 공간을 사용할 때의 성능손실도 거의 없다.

# 💡 도커 구성요소
![image](https://github.com/shin-je-woo/TIL/assets/39439576/57dcdac9-e8f1-4029-a551-136688cb5fe1)

- **Docker Client** : 도커를 설치하면 그것이 Client이며 build, pull, run 등의 도커 명령어를 수행한다.
- **DOCKER_HOST** : 도커가 띄워져 있는 서버를 의미한다. DOCKER_HOST에서 컨테이너와 이미지를 관리한다.
- **Docker daemon** : 도커 엔진이다. 데몬이란 계속 실행 중인 프로그램을 의미
- **Registry** : 외부(remote) 이미지 저장소이다. 다른 사람이 공유한 이미지를 도커 호스트에 pull하고, 가져온 이미지를 run하면 컨테이너가 된다.
